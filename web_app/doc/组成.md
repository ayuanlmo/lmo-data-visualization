## 介绍

本文档详细说明了本工具如何构成以及如何工作

---

## 构成

#### 设计器

    提供模板的选择，以及设计模板样式，发起合成任务。

#### 模板

    根据基础设置 可设计成任何你想要的样子(这是根据模板的配置项决定的)

#### 服务器

    将模板转换为视频、同时管理了模板、产出、媒体文件、消息推送等。

---

## 它们如何工作？

设计器设计一个模板后，交由服务器进行处理

### 服务器它是如何工作的？

1. 合成之前：
    1. 服务器收到一条合成任务
    2. 拷贝当前任务源模板到临时目录
    3. 替换临时目录中模板的配置文件
2. 开始合成
    1. 加载需要渲染的模板
    2. 等待合成
    3. 上报进度
3. 合成结束
    1. 删除临时目录
    2. 如果存在音频，回对音频进行编码处理，并将音频合并到视频里
    3. 生成视频文件到资源库
    4. 上报合成结果

---
本文档遵循[知识共享许可协议CC 4.0](https://creativecommons.org/licenses/by/4.0/) (http://creativecommons.org/Licenses/by/4.0/)。

